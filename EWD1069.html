<!DOCTYPE html>
<html>
<head>
  <title>Fair gambling with a biased coin</title>
  <link href="https://fonts.googleapis.com/css?family=Lobster|Raleway" rel="stylesheet">
  <link href="assets/common.css" rel="stylesheet">
  <link href="assets/transcriptions.css" rel="stylesheet">
  <meta name="generator" content="convertArticle.pl">
</head>
<body>
<div class="metabar">
  <a href="index.html">HOME</a>
</div>
<h1>Fair gambling with a biased coin</h1>
<div class='body'>
				<p>Given a coin such that the two faces show up with probabilities <var>p</var> and <var>q</var> &nbsp;(<var>p</var>+<var>q </var>= 1), can we generate a fair random sequence of 0s and 1s? If the coin is fair, i.e., <var>p</var>=, <var>q</var>=, the answer is simple: associate 0 with the one face and 1 with the other, and throw the coin once per digit to be produced. But what if the coin could be biased? Note that we are only given the possibly biassed coin, and not the actual <var>p</var>,<var>q</var>-values.</p>
				<p>The only thing we can do with the coin is throwing it repeatedly. Our task is to design an experiment with two possible outcomes of equal probability.</p>
				<p>Our first observation is that this endeavour is bound to fail if the coin is so extremely biased that one of the faces <em>never</em> shows up &#x2014;i.e. <span class="inlineformula"><var>p</var>&#x2022;<var>q</var>=0&#x2014; ,</span> because in that case only <em>one</em> sequence of throws is possible and there cannot be <em>two</em> possible outcomes of the experiment. To phrase it differently: we have to design a deterministic algorithm intended to produce a 0 or a 1 when fed with a sufficiently long sequence of faces, but on a <em>constant</em> input sequence &#x2014;i.e., all heads or all tails&#x2014; the algorithm should fail to terminate. Because there are many such algorithms, we do some more observing.</p>
				<p>Our second observation is that it does not matter which side of the coin we call &ldquo;head&rdquo; as long as we call the other &ldquo;tail&rdquo;. The simplest &#x2014;and therefore standard&#x2014; way of doing justice to such a binary symmetry is to consider pairs of faces, and to distinguish them according to being a pair of equal faces or a pair of different faces.</p>
			  <p>The combination of these two observations suggests to investigate the algorithm that starts</p>
				<blockquote><table cellpadding="0" cellspacing="0" border="0" style="margin-top: 1em;">
					<tr>
				    <td>|[&nbsp;</td><td colspan="2"><b>var</b> <var>x</var>,<var>y</var>: face;</td></tr>
					<tr>
				    <td></td><td><b>repeat</b>&nbsp;&nbsp;</td><td>record throw in (<var>x</var>);</td></tr>
					<tr>
				    <td></td><td></td><td>record throw in (<var>y</var>)</td></tr>
					<tr>
				    <td></td><td colspan="2"><b>until</b> <var>x</var> &#x2260; <var>y</var></td><td></td></tr>
					<tr>
				    <td>;</td><td>.....</td><td></td></tr>
				</table></blockquote>
				<p class="noindent">It fails to terminate if <var>p</var><var>q</var> = 0 &#x2014;it has been designed that way&#x2014; and, if <var>p</var><var>q </var>&gt; 0, it terminates with probability 1. (The expectation value of the number of double throws is <span class="inlineformula">(<var>p</var><var>q</var>)<sup>-1</sup>&nbsp;.)</span> Moreover it solves our problem, since the above can terminate in two ways, (<var>x</var>,<var>y</var>) = (head,tail) or (<var>x</var>,<var>y</var>) = (tail,head), and both outcomes are equally likely.</p>
				<p class="noindent" align="center"><sup>*</sup> &nbsp; &nbsp; &nbsp; &nbsp; <sub>*</sub> &nbsp; &nbsp; &nbsp; &nbsp; <sup>*</sup></p>
				<p>It took me very long to design the above solution. After having made the first observation but before having made the second one, I started to study all sorts of algorithms that failed to terminate on the constant input sequence. And that while the second observation is absolutely standard (vide the bichrome 6-graph). I find it shocking that at my age I allowed myself to be lured into the wild search I embarked upon. As soon as I became very stern with myself and told myself not to behave like an uneducated idiot, the above solution was designed.</p>
				<p>The problem seems very well known; somehow I had missed it. I was quite thrilled by it! Making a fair &ldquo;physical&rdquo; coin is quite hard, for how does one establish that one has one? You cannot test it. Here we have a &ldquo;mathematical&rdquo; coin that is fair by construction! Two cheers for mathematics.</p>
				<p class="noindent" style="margin-left: 18em;">Inks Lake State Park,<br />on the 30th anniversary of my Ph.D.</p>
				<p class="noindent">
					prof.dr. Edsger W.Dijkstra<br />
					Department of Computer Sciences<br />
					The University of Texas at Austin<br />
					Austin, TX 78712-1188<br />
					USA<br />
				</p>
			</div>
			<div>
        <br/>
      </div>
		</div>
		<hr />
		<div id="footer">
         transcribed by Corrado Cantelmi<br />
          revised 
          <!-- #BeginDate format:En2 -->27-Nov-2011<!-- #EndDate -->
		</div>
	</body>

</html>
</div>
</body>
</html>
