<html>
<head>
  <title>Bezettingsadministratie der trommelpagina's</title>
  <link href="https://fonts.googleapis.com/css?family=Lobster|Raleway" rel="stylesheet">
  <link href="assets/transcriptions.css" rel="stylesheet">
  <meta name="generator" content="convertArticle.pl">
</head>
<body>
<h1>Bezettingsadministratie der trommelpagina's</h1>
				<p class="noindent">20 mei 1964</p>				<p class="noindent"><u>Bezettingsadministratie der trommelpagina's.</u></p>				<p>Aan elke trommelpagina kennen we twee constanten toe, nl. <var>a</var> en <var>s</var>: dit zijn &eacute;&eacute;n-&eacute;&eacute;nduidige functies. De constante <var>a</var> &quot;nummert&quot; de trommelpagina's in volgorde van opklimmend beginadres, de constante <var>s</var> &quot;nummert&quot; de trommelpagina's in de sequens, waarin de beginwoorden van de pagina's de koppen passeren.</p>				<p>Voorlopig stellen we ons op het standpunt, dat de hele trommel voor pagina's ter beschikking staat. (Dit zal niet het geval zijn, maar zulks kunnen we opvangen door een aantal trommelpagina's permanent bezet te verklaren, waarna we ze rustig voor andere doeleinden kunnen gebruiken.)</p>				<p>Als functie van <var>a</var> is het beginadres gegeven door</p>			</div>		</div>		<div id="frame" align="left">			<div id="content" align="left">				<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;beginadres(a) = 513 * a ;</p>			</div>		</div>		<div id="frame">			<div id="content">				<p class="noindent">tussen opeenvolgende trommelpagina's zit dus een ongebruikt woord. Verder geldt</p>				<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 &le; a &le; 1021,</p>				<p class="noindent">voor <var>a</var> = 1022 en <var>a</var> = 1023 is geen ruimte meer op de trommel. De laatste drie woorden op de trommel worden eveneens niet gebruikt.</p>				<p>Nu merken we op, dat 513 * 513 <b>=</b> 1 mod(1024); alle adressen <b>=</b> mod(1024) zijn tegelijkertijd accessibel. Hieruit volgt, dat verhoging van <var>s</var> met 1 neer komt op verhoging van <var>a</var> met 513, gereduceerd mod(1024).</p>				<p>Voegen we aan de pagina met <var>a</var> = 0 code <var>s</var> = 0 toe, dan vinden (we)</p>				<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a(s) = rem(513 * s, 1024).</p>				<p>Omgekeerd vinden <i>we</i>, dat verhoging van <var>a</var> met 1 de <var>s</var> met 513 verhoogt (modulo 1024)<br>					dus geldt</p>				<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s(a) = rem(513 * a, 1024).</p>				<p class="noindent">Ook <var>s</var> voldoet primair aan de ongelijkheid 0 &le; s &le; 1023; we moeten ons even afvragen welke <var>s</var>-waarden niet voorkomen; dit zijn</p>				<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s(1022) = 1022 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;en</p>				<p class="nospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s(1023) = 511 &nbsp;&nbsp;.</p>				<p class="noindent">Deze nonexistente bladzijden laten we vrolijk meehobbelen, we zullen ze (zijnde nondisponibel) als permanent bezet noteren.</p>				<p>Voorts is <var>s</var> als functie van het beginadres ten duidelijkste gegeven door</p>				<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s(beginadres) = rem(beginadres, 1024);</p>				<p class="noindent">alle tot dusverre bekeken functies zijn dus door schoon schuiven over 9 plaatsen, een enkele additie en een collatie met 1023 onmiddellijk uit te rekenen.</p>				<p>Aan deze pagina's gaan we bits toekennen uit een boolean array TBB[0:39, 0:25]; (de afkorting TBB komt van Trommel Bezettings Bits). De bits van dit array gaan we afbeelden op de bits d[25] t/m d[0] van de woorden ven het woordarray TBW[0:39], 40 woorden, in het geheugen te bergen op 40 consecutieve geheugenplaatsen in volgorde van oplopend subscript. Van deze 40 woorden is het tekenbit d[26] permanent gelijk aan 1.</p>				<p>Voor de bits van TBB geldt. dat</p>				<p class="noindent">a) TBB[i,j] afgebeeld wordt op bit d(25 - j) uit woord TBW[i]</p>				<p class="noindent">b) TBB[i,j] toegevoegd is aan de trommelpagina met s = 26 * i + j</p>				<p class="noindent">c) TBB[i,j] = 1 betekent, dat de pagina bezet is<br>					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 0 betekent, dat de pagina vrij is.</p>				<p>De bits TBB[19,17] (dwz. s = 511), TBB[39,8] (dwz. s: 1022) en TBB[39, 10], TBB[39, 11]...TBB[39, 25] (dwz. s = 1024, 1025, ..., 1039) zijn wegens nonexistentie permanent = 1, evenals de TBB's, die beantwoorden aan stukken van de trommel, die voor andere doeleinden bestemd zijn.</p>				<p>(In het volgende is de constante B25 = 2&uarr;25 = 33554432.)</p>				<p>We zullen de TBB's op drie manieren gebruiken.</p>				<p class="continue">a) Om een bezette trommelpagina met <var>s</var> = 26 * <var>i</var> + <var>j</var> vrij te geven.</p>				<p class="nospace">In een register plaatsen we B25 * 2&uarr;(-<var>j</var>) en met een subtractieve uitopdracht voeren we uit</p>				<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TBW[i]:= TBW[i] - B25 * 2&uarr;(-j).</p>				<p class="noindent">b) Om een vrije trommelpagina met s = 26 * i + j te bezetten; dit gaat analoog met een additieve uitopdracht:</p>				<p class="noindent">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TBW[i]:= TBW[i] + B25 * 2&uarr;(-j).</p>				<p>De weg van beginadres naar <var>s</var> gaat met een simpele collatie, om uit <var>s</var> de <var>i</var> en de <var>j</var> te isoleren, kost ons wel een deling. De tekencijfers van de woorden TBW zijn met zorg =1 gekozen, opdat de preferentie voor de min nul ons geen parten speelt. Als wij deze vrijgave en bezetting additief spelen, den moeten we er wel zeker van zijn, dat de pagina van te voren als bezet, resp. vrij genoteerd stond: anders zou overloop de boel immers hopeloos bederven!</p>				<p class="noindent">c) Om een geschikte vrije trommelpagina te zoeken. Als we nl. dumpen, dan zijn we vrij in de keuze van de trommelpagina. Als zich in het startmagazijn van de trommeltransporten nog een startopdracht bevindt, dan kunnen we onderzoeken, bij welke waarde waarde van <var>s</var> deze is afgelopen. Vermeerderen we (gereduceerd modulo 1024) deze <var>s</var> met de &quot;safety marge&quot;, die Electrologica ons op moet geven, opdat de volgende startopdracht nog zonder verlies van een omwenteling gehaald wordt, dan hebben we de ideale <var>s</var>, ware het niet, dat we nog moeten onderzoeken, of de bijbehorende trommelpagina wel vrij is. (Als er in het startmagazijn van de trommel nog maar 1 startopdracht staat, kunnen we in verband met de minimum tijdsduur van het nu volgende onderzoekprogramma uit voorzichtigheid <var>s</var> nog wel met &eacute;&eacute;n of andere constante verhogen, extra wel te verstaan. Als het startmagzijn leeg is, is elke <var>s</var> even goed, want dan hebben we stand van de trommel volledig uit het oog verloren.) Het array TBB gaan we nu gebruiken om de eerste vrije trommelpagina (met &quot;s &ge; s ideaal&quot;, alles modulo 1024) te zoeken. Daartoe splitsen we <var>s</var> ideaal in</p>				<p class="noindent"><var>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s</var> ideaal = 26 * <var>i</var> + <var>j</var></p>				<p class="noindent">en voeren met deze waarden van <var>i</var> en <var>j</var> als beginwaarden het volgende programma uit.</p>				<p class="noindent">A:= TBW[i];<br>					schuif A schoon over j plaatsen naar links;<br>					<b>if</b> A &ne; 0 <b>then</b><br>					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>begin</b> normeer A (het aantal slagen komt in B);<br>					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j:= j + B<br>					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>end</b><br>					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>else</b><br>					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>begin</b> i0:= i;<br>					volgend woord: modhoog(i, 40);<br>					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A:= TBW[i];<br>					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>if</b> A = 0 <b>then</b> <b>begin</b> <b>if</b> i = 10 <b>then</b> <b>goto</b> trommel vol <b>else</b> <b>goto</b> volgend woord<br>					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>end</b>;<br>					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;normeer A (het aantal slagen komt in B);<br>					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j := B<br>					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>end</b></p>				<p>De gekozen pagina is nu gegeven door de eindwaarden van <var>i</var> en <var>j</var> (door <var>s</var>&nbsp;=&nbsp;26 * <var>i</var> + <var>j</var>), waarmee het gestelde doel bereikt is.</p>			</div>			<hr>			<div id="footer">				transcribed by Gerrit Jan Veltink<br>				revised <csobj format="MedDate" h="15" region="15" t="DateTime" w="106">Sun, 28 Mar 2010</csobj></div>		</div>	</body></html>
</body>
</html>
