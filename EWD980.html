  <!DOCTYPE html>
  <html>
  <head>
    <title>The strange case of The Pigeon-hole Principle</title>
    <link href="https://fonts.googleapis.com/css?family=Lobster|Raleway" rel="stylesheet">
    <link href="assets/common.css" rel="stylesheet">
    <link href="assets/transcriptions.css" rel="stylesheet">
    <link href="assets/tweet-selection.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-1.12.0.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="assets/tweet-selection.js"></script>
    <meta name="generator" content="convertArticle.pl">
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@raboofje" />
    <meta name="twitter:description" content="From the Edsger Dijkstra EWD archive: The strange case of The Pigeon-hole Principle" />
    <meta name="twitter:title" content="The strange case of The Pigeon-hole Principle" />
    <meta name="twitter:image" content="http://raboof.github.io/ewd/assets/dijkstra.jpeg" />
  </head>
  <body>
  <div class="metabar">
    <div class="metabar-inner">
      <a href="index.html">HOME</a>
    </div>
  </div>
  <h1>The strange case of The Pigeon-hole Principle</h1>
  <div class='body'>
<h2>The strange case of The Pigeon-hole Principle</h2>
<p>If you come to think about it, The Pigeon-hole Principle presents a case that is curious in more than one respect.</p>
<p>It has a remarkably high status: it has a special name, under which it is well-known; Ross Honsberger even calls it "A fundamental tool of combinatorics".</p>
<p>It is surrounded by some mystique. Proofs using it are often regarded as something special, something particularly ingenious. This feeling of awe is, for instance, nicely reflected by Honsberger when he concludes one of his examples with "(Another triumph of the pigeonhole principle.)".</p>
<p>Its usual formulation is —as we shall see in a moment— unfortunate. Let me quote Honsberger once more —there is nothing special about me quoting Honsberger all the time: one of his books just happens to lie on my desk—:</p>
<blockquote>"if more than <code><var>n</var></code> objects are distributed into a set of <code><var>n</var></code> compartments, some compartment must receive [ for "must receive" read "receives", EWD] more than one of the objects."</blockquote>
(Instead of "more than <code><var>n</var></code>" one often encounters the more specific "<var>n</var> + 1".)
<p>My feeling is that these three observations are not unrelated.</p>
<div align="center"><sup>*</sup>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<sub>*</sub>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<sup>*</sup></div>
<p>To begin with, let me formulate the Purified Pigeon-hole Principle (<abbr>PPP</abbr>):</p>
<blockquote>"For a non-empty, finite bag of numbers, the maximum value is at least the average value."</blockquote>
<p>It is a generalization, because in the old formulation, it would be (<abbr>OFPP</abbr>)</p>
<blockquote>"If more than <var>n</var>·<var>k</var> objects are distributed into a set of <code><var>n</var></code> compartments, some compartment receives more than <code><var>k</var></code> of the objects."</blockquote>
<p>I think it is illuminating to analyze the differences between those two formulations (in what I consider increasing order of seriousness):</p>
<ul>
<li><abbr>PPP</abbr> does not mention <code><var>n</var></code> and <code><var>k</var></code> explicitly; this eases the application, because the conscientious application of <abbr>OFPP</abbr> would require explicit instantiations of <code><var>n</var></code> and <code><var>k</var></code>.</li>
<li><abbr>OFPP</abbr> is very operational; it would have been less so, had "are distributed" and "receives" had been replaced by "have been distributed" and "contains" respectively. The metaphor drags a process into the picture, where only the final state matters. (This is really serious, for what if "the objects are already in the compartments"? Well, of course we could have put them there, but then some people feel obliged to argue that we could have done so in "arbitrary" order: irrelevantia in the formulation of a theorem have the awkward consequence that the conscientious user of the theorem has to demonstrate their irrelevance.)</li>
<li><abbr>OFPP</abbr> mentions "objects" and "compartments", things that have nothing to do with the theorem. I know that some people believe that the introduction of such things "ease the visualisation", but I think the price too heavy to pay. When dealing with natural numbers, we should be able to deal with them in their own right and not be forced to introduce "objects" counted by them! (It is really like representing natural numbers in a unary number system, with the well-known difficulty of "the invisible zero".) Also, one may have to invent "compartments" that don't "look" like compartments at all. The "mystique" of the Pigeon-hole Principle is partly due the sometimes surprising invention of "objects" and the "compartments".</li>
</ul>
<div align="center"><sup>*</sup>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<sub>*</sub>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<sup>*</sup></div>
<p>Let me now relate to you two stories about the Pigeon-hole Principle that both amazed me; for me —but perhaps I am sensitive to the point of allergy— they suggest that the traditional Pigeon-hole Principle is a focal point of how mathematics is (but not should be) taught.</p>
<p>A few weeks ago I was told "The Problem of the Soccer Toto". (Not knowing the rules of the soccer toto, I got the explanation; for your benefit I shall repeat them.)</p>
<p>On a given Sunday, <code>13</code> soccer matches will be played. Each match has one of three possible outcomes, denoted by "1", "2" and "X" respectively. Hence there are 3<sup>13</sup> possible Sundays. For our purpose "Sunday" will be one of those 3<sup>13</sup> possible "columns" of height 13, with in each line one of the three permissible entries 1, 2 or X.</p>
<p>A toto form consists of a row of blanc columns of height 13; its user is free in his choice of the number of columns he is going to fill in. The question is to devise a strategy for filling in the minimal number of columns so that at least 1 column coincides with Sunday in at least <code>5</code> entries. Here we go.</p>
<p>Forget about the 5: what if at least 1 column should coincide with Sunday in at least 1 entry? Two columns won't do, for Sunday then could contain for each line an outcome missing in the corresponding line of the toto form. With 3 columns such that at least one row contains all three outcomes, at least one coincidence —in that row— is guaranteed. So far we needed 3 columns and have used only one row. Can we use the remaining 12 rows to increase the score? By filling those each with some permutation of the three outcomes, we force in each row precisely one coincidence with Sunday. Make in each column the count of coincidences: their sum being 13, their average is 4⅓. and their maximum (<abbr>PPP</abbr>) is ≥5. End of argument (heuristics included). Notice that there was no need at all to interpret the form as a table defining how, indeed, each object (=match) was placed in one compartment (=column).</p>
<p>But suppose that the question had been different: given a form in which 4 columns have been filled in such that each row contains each of the three possible outcomes, can you show that at least 1 column coincides in at least 4 entries with Sunday? Now the total number of coincidences is ≥13, the average count is ≥3¼, and hence the maximum count is ≥4. Please notice that in this case the metaphor of putting objects (=matches) into compartments (=columns) creates problems: an object may "occupy" two compartments! (It is utterly predictable how the average mathematician will save his face: "Sure! If generalize the problem, I don't take the matches but the coincidences as my objects! I would have done so right at the start, would I have known that you would generalize the problem!") So much for the avoidable obligation of identifying the "objects".</p>
<p>But now the sad part of the story. The colleague that posed me this problem had been challenged with it by one of his graduate students. When we met again he was utterly amazed to hear that the problem could be solved without pen and paper, and when I told him my solution, he looked so puzzled that I am not sure he understood it. "Of course I know the Pigeon-hole Principle, but I never.....", and then wandering thoughts prevented him from completing the sentence. Was he still looking for the objects and the compartments? The way he had been introduced to the principle and all the imaginations that went with it was obviously a barrier to its straight-forward application. I felt that I had had a glimpse of something frightening.</p>
<p>The second story concerns my preparation of a lecture on the Pigeon-hole Principle: I wanted to show my students the most spectacular application of it I had ever encountered. I scratched my memory, and then I remembered: the lower bound for the length of the longest monotonic subsequence! I remembered my thrill, but had forgotten the argument, which I then set out to construct.</p>
<p>Let me state the problem first. We consider a sequence of numbers <var>a</var>.<var>i</var> with 0 ≤ <var>i</var> &lt; <var>N</var>. We get a subsequence of length <var>n</var> by removing some <var>N</var> - <var>n</var> elements from the sequence and retaining the remaining ones in their original order. It is called "an upsequence" provided for any <var>a</var>.<var>i</var> and <var>a</var>.<var>j</var> in the subsequence we have</p>
<blockquote><var>i</var> &lt; <var>j</var> ⇒ <var>a</var>.<var>i</var> ≤ <var>a</var>.<var>j</var> ;</blockquote>
in the case that we have
<blockquote><var>i</var> &lt; <var>j</var> ⇒ <var>a</var>.<var>i</var> ≥ <var>a</var>.<var>j</var> ;</blockquote>
it is called "a downsequence".
<p>Let <var>U</var> be the length of a longest upsequence contained in the given sequence, and let <var>D</var> be the length of a longest downsequence contained in it. Prove that <var>N</var> ≤ <var>U</var>·<var>D</var> holds.</p>
<p>The argument I came up with went as follows. Let us construct <var>U</var>·<var>D</var> different labels; if we can now devise a regime that assigns to each element a distinct label, then <var>N</var> —being the number of labels used— is at most <var>U</var>·<var>D</var> —being the number of labels available.</p>
<p>How do we construct <var>U</var>·<var>D</var> different labels? The simplest way I can think of is all the integer pairs (<var>u</var>,<var>d</var>), with 1&nbsp;≤&nbsp;<var>u</var>&nbsp;≤&nbsp;<var>U</var> and 1&nbsp;≤&nbsp;<var>d</var>&nbsp;≤&nbsp;<var>D</var>. How do we devise a regime that assigns for <var>i</var> &lt; <var>j</var> different labels to <var>a</var>.<var>i</var> and <var>a</var>.<var>j</var>? In order to relate the regime to up- and downsequences, we observe</p>
<blockquote><var>i</var> &lt; <var>j</var> ⇒ <var>a</var>.<var>i</var> ≤ <var>a</var>.<var>j</var> ∨ <var>a</var>.<var>i</var> ≥ <var>a</var>.<var>j</var></blockquote>
i.e. <var>a</var>.<var>j</var> can be used to extend either an upsequence or a downsequence ending at <var>a</var>.<var>i</var>. This observation reveals the regime: assign to <var>a</var>.<var>i</var> the pair (<var>u</var>,<var>d</var>) with <var>u</var> (and <var>d</var>) the maximum length of an upsequence (and a downsequence respectively) that ends at <var>a</var>.<var>i</var>. This guarantees
<ol type="i">
<li>that distinct elements get distinct labels</li>
<li>that each label (<var>u</var>,<var>d</var>) needed satisfies 1&nbsp;≤&nbsp;<var>u</var>&nbsp;≤&nbsp;<var>U</var> and 1&nbsp;≤&nbsp;<var>d</var>&nbsp;≤&nbsp;<var>D</var>.</li>
</ol>
<p>I was quite pleased with the reconstruction of this argument, until I realized that what used to be "a triumph of the Pigeon-hole Principle" no longer used the Pigeon-hole Principle at all!</p>
<p>I could reintroduce an appeal to the Pigeon-hole Principle, but only by a contorted rephrasing. [ Identify the elements with objects, the labels with compartments; assume <var>N</var> —the number of objects— to exceed <var>U</var>·<var>D</var> —the number of compartments—; then —<abbr>PP</abbr>— at least one compartment would contain more than one objects, which contradicts that distinct elements get distinct labels. Hence <var>N</var> does not exceed <var>U</var>·<var>D</var>. ]</p>
<p class="noindent"><u>Remark</u> It is in this connection noteworthy that no one I asked formulated the Pigeon-hole Principle as follows: " With objects distributed into compartments such that each compartment contains at most one object, the number of objects is at most the number of compartments". It is logically equivalent to the original formulation, but looks quite different. And that, presumably, is precisely the trouble. (End of Remark.)</p>
<p>With its physical, object-oriented formulation, the classical Pigeon-hole Principle is very vivid, almost catchy. And there lie precisely its major shortcomings: the problem caused by such object-oriented formulation is that <var>A</var> ⇒ <var>B</var> and the logically equivalent "counter-positive" ¬<var>B</var> ⇒ ¬<var>A</var> invite completely different visualisations. The moral of the story seems to be that we should sharply distinguish between good mathematics and public relations.</p>
<div align="right">
<p>Austin, 19 September 1986</p>
</div>
<p class="noindent">prof. dr. Edsger W. Dijkstra<br>
Department of Computer Sciences<br>
The University of Texas at Austin<br>
Austin, TX 78750–1188<br>
United States of America</p>
<hr>
<font size="-1">transcribed by Martijn van der Veen<br>
revised Thu, 27 May 2010</font>
</div>
  <script>
$('.body').tweetSelection({
  ellipsis: '...',
  quoteLeft: '\'',
  quoteRight: '\'',
  via: 'raboofje'
});
  </script>
  </body>
  </html>
