<!DOCTYPE html>
<html>
<head>
  <title>The solution to a cyclic relaxation problem</title>
  <link href="https://fonts.googleapis.com/css?family=Lobster|Raleway" rel="stylesheet">
  <link href="assets/common.css" rel="stylesheet">
  <link href="assets/transcriptions.css" rel="stylesheet">
  <meta name="generator" content="convertArticle.pl">
</head>
<body>
<div class="metabar">
  <div class="metabar-inner">
    <a href="index.html">HOME</a>
  </div>
</div>
<h1>The solution to a cyclic relaxation problem</h1>
<div class='body'><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>

	<head>
		<meta http-equiv="content-type" content="text/html;charset=ISO-8859-1">
		<meta name="generator" content="Adobe GoLive 6">
		<title>E.W.Dijkstra Archive: The solution to a cyclic relaxation problem. (EWD 386)</title>
		<style type="text/css">
         p { text-indent: 2.0em; }
        </style>
	</head>

	<body bgcolor="#ffffff">
		<div align="right">
			&nbsp;&nbsp;<a title="PDF scan of EWD 386" href="https://www.cs.utexas.edu/~EWD/ewd03xx/EWD386.PDF" target="_blank">EWD 386</a></div>
		<div align="left">
			<div>
				<u>The solution to a cyclic relaxation problem.<br>
				</u>
				<p>The problem solved in this note arose in connection with the (just initiated) study of self-stabilizing systems.</p>
					<p>Consider a circle and N points numbered from 0 through N-1, placed in an <u>arbitrary</u> order around the circumference. For &quot;the adjustment of point nr. i&quot; we consider the shortest clockwise path along the circumference from its predecessor &#x2014;i.e. point nr. (i-1) <u>mod</u> N&#x2014; to its successor &#x2014;i.e. point nr. (i+1) <u>mod</u> N&#x2014;; the new position of point nr. i will be halfway (i.e. the middle) of that path. In formula (taking the circumference of the circle as unit) with pred = x[(i-1) mod N] and succ = x[(i+1) mod N]</p>
					<p>x[i]:= <u>if</u> pred &#x2264; succ <u>then</u> (pred+succ)/2 <u>else</u> ((pred+succ+1)/2) <u>mod</u> 1 <u>fi</u>.</p>
					<p>
					If we start doing adjustments, will the system converge on a stable state?</p>
					<p>
					This is not necessarily the case if we do the adjustments simultaneously, i.e. determine all new positions in terms of all the old ones, as is shown by the following examples.</p>
				<table width="100%" border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td width="10%"></td>
						<td width="10%">
					  N = 3</td>
						<td width="10%"></td>
						<td width="10%"></td>
						<td align="center" width="10%">|</td>
						<td width="10%"></td>
						<td width="10%">
					  N = 4</td>
						<td width="10%"></td>
						<td width="10%"></td>
					</tr>
					<tr>
						<td width="10%">t</td>
						<td align="center" width="10%">0</td>
						<td align="center" width="10%">1</td>
						<td align="center" width="10%">2</td>
						<td align="center" width="10%">|</td>
						<td width="10%">t</td>
						<td align="center" width="10%">0</td>
						<td align="center" width="10%">1</td>
						<td align="center" width="10%">2</td>
					</tr>
					<tr>
						<td width="10%">x[0]</td>
						<td align="center" width="10%">0</td>
						<td align="center" width="10%">1/2</td>
						<td align="center" width="10%">0</td>
						<td align="center" width="10%">|</td>
						<td width="10%">x[0] </td>
						<td align="center" width="10%">0</td>
						<td align="center" width="10%">3/4</td>
						<td align="center" width="10%">0</td>
					</tr>
					<tr>
						<td width="10%">x[1]</td>
						<td align="center" width="10%">2/3</td>
						<td align="center" width="10%">1/6</td>
						<td align="center" width="10%">2/3</td>
						<td align="center" width="10%">|</td>
						<td width="10%">x[1]</td>
						<td align="center" width="10%">0</td>
						<td align="center" width="10%">1/4</td>
						<td align="center" width="10%">0</td>
					</tr>
					<tr>
						<td width="10%">x[2]</td>
						<td align="center" width="10%">1/3</td>
						<td align="center" width="10%">5/6</td>
						<td align="center" width="10%">1/3</td>
						<td align="center" width="10%">|</td>
						<td width="10%">x[2]</td>
						<td align="center" width="10%">1/2</td>
						<td align="center" width="10%">1/4</td>
						<td align="center" width="10%">1/2</td>
					</tr>
					<tr>
						<td width="10%"></td>
						<td width="10%"></td>
						<td width="10%"></td>
						<td width="10%"></td>
						<td align="center" width="10%">|</td>
						<td width="10%">x[3]</td>
						<td align="center" width="10%">1/2</td>
						<td align="center" width="10%">3/4</td>
						<td align="center" width="10%">1/2</td>
					</tr>
				</table>
				<p>
					For both odd and even N we have an example that will oscillate with a period 2.  If, however, we do the adjustments one at a time in a fair random order (i.e. without permanent neglect of certain points), then the system is bound to converge.</p>
				<p>Consider, instead of the N points, the N clockwise paths leading from each point to its successor. After a point adjustment the two paths meeting at that point will both be less than 1/2 and no future adjustment can ever undo that! After adjustments all around the circle each path will be less than 1/2, and from that moment onwards each triangle &quot;i-1, i, i+1&quot; is a clockwise one. The total clockwise path from 0 to 1, from 1 to 2, ....., from N-1 to 0 will go around the circle a fixed number of times, m say (0 &#x2264; m &#x2264; N/2). No adjustment can anymore change the value of m, from now onwards we could even do simultaneous adjustments. The final state will satisfy for all i</p>
				<p>(x[(i+1) <u>mod</u> N] - x[i]) <u>mod</u> 1 = m/N.</p>
				The system converges linearly (imagine successive points connected by spiral springs or rubber bands of equal length).
				<p>The above was written under the assumption that along the circumference we had the continuum at our disposal, i.e. that the fractions x, satisfying 0 &#x2264; x &lt; 1 could be represented in arbitrary precision. Suppose now that we have to represent the fractions x as integer multiples of 1/p (where we may assume the integer p to satisfy 
					p &gt;&gt; N).</p>
				<p>
					The extent to which the system converges seems to depend on how we round off when necessary, i.e. when the clockwise path from predecessor to successor turn out to be an odd multiple of 1/p.  If we impose the rule, that rounding will always take place in the same cyclic direction (say &quot;anticlockwise&quot;), then the following will happen.</p>
				<p>
					With m defined as in the continuous case, define q and r by</p>
				<p>m*p = q*N + r with 0 &#x2264; r &lt; N.</p>
				Of the paths p[i] leading from x[i] to its successor, (N - r) &#x2014;the &quot;short&quot; paths&#x2014; will be of length q/p and r paths &#x2014;the &quot;long&quot; paths&#x2014; will be of length (q + 1)/p. If p[i-1] is &quot;long&quot; and p[i] is &quot;short&quot;, adjustment of point nr. i &#x2014;with anticlockwise rounding&#x2014; will have the effect that the predicates &quot;short&quot; and &quot;long&quot; have interchanged position. The short ones will be travelling anticlockwise through the cycle, simultaneously the longs ones will travel clockwise through the cycle.
				<p>
					The two types of paths travelling in opposite direction through the same cycle makes it clear that if m*p is an integer multiple of N, that then the system will converge to a completely stable situation.</p>
				<p></p>
			</div>
		</div>
		<div align="left">
			<table width="90%" border="0" cellspacing="2" cellpadding="0">
				<tr>
					<td valign="top" width="203">
					NUENEN, 8th August 1973</td>
					<td valign="top" width="250">
						<div align="right">
							dr.Edsger W.Dijkstra</div>
					</td>
				</tr>
			</table>
		</div>
		<hr>
		<font size="-1">transcribed by Tristram Brelstaff<br>
			revised <csobj format="MedDate" h="13" region="15" t="DateTime" w="94">Tue, 27 Mar 2007</csobj></font>
	</body>

</html></div>
</body>
</html>
