  <!DOCTYPE html>
  <html>
  <head>
    <title>Very elementary number theory redone</title>
    <link href="https://fonts.googleapis.com/css?family=Lobster|Raleway" rel="stylesheet">
    <link href="assets/common.css" rel="stylesheet">
    <link href="assets/transcriptions.css" rel="stylesheet">
    <link href="assets/tweet-selection.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-1.12.0.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="assets/tweet-selection.js"></script>
    <meta name="generator" content="convertArticle.pl">
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@raboofje" />
    <meta name="twitter:description" content="From the Edsger Dijkstra EWD archive: Very elementary number theory redone" />
    <meta name="twitter:title" content="Very elementary number theory redone" />
    <meta name="twitter:image" content="http://raboof.github.io/ewd/assets/dijkstra.jpeg" />
  </head>
  <body>
  <div class="metabar">
    <div class="metabar-inner">
      <a href="index.html">HOME</a>
    </div>
  </div>
  <h1>Very elementary number theory redone</h1>
  <a class='original' href='https://www.cs.utexas.edu/~EWD/ewd75xx/EWD755.PDF'><img src='assets/original.png' alt='Show original manuscript'></a>
  <div class='body'>
<b>Very elementary number theory redone.</b>
<p>The <i>natural numbers</i> are 0, 1, 2 and so on; for further details, see Peano.</p>
<p>The <i>positive integers</i> are natural numbers ≥ 1, i.e. 1, 2, 3 and so on.</p>
<p>The <i>multiples</i> are natural numbers ≥ 2, i.e. 2, 3, 4 and so on. The product of two multiples is larger than each of those two, in formula</p>
<table width="100%">
<tr>
<td valign="top" width="1%"></td>
<td>(<b>A</b> <var>x</var>, <var>y</var> : <var>x</var> ≥ 2, <var>y </var>≥ 2 : <var>x</var>.<var>y</var> &gt; <var>x</var> ∧ <var>x</var>.<var>y</var> &gt; <var>y</var> )</td>
<td align="right">(1)</td>
</tr>
</table>
<p>Multiples that are the product of two multiples are called <i>composite</i>, multiples that are not composite are called <i>prime</i>, in formula</p>
<table width="100%">
<tr>
<td valign="top" width="1%"></td>
<td>prime <var>m</var> = <var>m </var>≥ 2 ∧ (<b>A</b> <var>x</var>, <var>y</var> : <var>x </var>≥ 2, <var>y </var>≥ 2 : <var>x</var>.<var>y</var> ≠ <var>m</var>)</td>
<td align="right">(2)</td>
</tr>
<tr>
<td valign="top"></td>
<td>comp <var>m</var> = <var>m </var>≥ 2 ∧ (<b>E</b> <var>x</var>, <var>y</var> : <var>x </var>≥ 2, <var>y </var>≥ 2 : <var>x</var>.<var>y</var> = <var>m</var>)</td>
<td align="right">(3)</td>
</tr>
</table>
In view of (1), (3) can be rewritten
<table width="100%">
<tr>
<td valign="top" width="1%"></td>
<td>comp <var>m</var> = (<b>E</b> <var>x</var>, <var>y</var> : 2 ≤ <var>x</var> &lt; <var>m</var>, 2 ≤ <var>y</var> &lt; <var>m</var> : <var>x</var>.<var>y</var> = <var>m</var>)</td>
<td align="right">(3′)</td>
</tr>
</table>
<p>From (3′) it is clear that it is decidable whether a specific <var>m</var> is composite.</p>
<p>Note that we have ¬(prime 1) ∧ ¬ (comp 1) .</p>
<p>With PF —for Prime Factorization— defined by</p>
<table width="100%">
<tr>
<td valign="top" width="10%">PF <var>n</var> =</td>
<td><var>n</var> is the product of (0 or more) multiples, all of which are prime (the empty product being defined as 1)</td>
</tr>
</table>
we can state
<p class="noindent"><b>Theorem 0.</b> (<b>A</b> <var>n</var> : <var>n </var>≥ 1 : PF <var>n</var>)</p>
<p class="noindent"><b>Proof</b>. We shall prove Theorem 0 by mathematical induction, i.e. we shall prove</p>
<table width="100%">
<tr>
<td valign="top" width="1%"></td>
<td>(<b>A</b> <var>n</var> : <var>n </var>≥ 1 : (PF <var>n</var>) ∨ (<u>E</u> <var>i</var> : 1 ≤ <var>i</var> ≤ <var>n</var> : ¬(PF <var>i</var>)))</td>
<td align="right">(4)</td>
</tr>
</table>
Because (<span class="noindent"><b>A</b> </span><var>n</var> : <var>n </var>≥ 1 : <var>n</var> = 1 ∨ (prime <var>n</var>) ∨ (comp <var>n</var>)) and the product of one number equals that number, we deduce from the definition of PF
<table width="100%">
<tr>
<td valign="top" width="1%"></td>
<td>(<b>A</b> <var>n</var> : <var>n </var>≥ 1 : (comp <var>n</var>) ∨ (PF <var>n</var>))</td>
<td align="right">(5)</td>
</tr>
</table>
Furthermore we deduce from the definition of PF
<p class="noindent">&nbsp;&nbsp;(<b>A</b> <var>x</var>, <var>y</var> : <var>x </var>≥ 1, <var>y </var>≥ 1 : ¬(PF <var>x</var>) ∨ ¬(PF <var>y</var> ) ∨ PF(<var>x</var>.<var>y</var> ))</p>
<p class="noindent">from which we deduce with (3')</p>
<table width="100%">
<tr>
<td valign="top" width="1%"></td>
<td>(<b>A</b> <var>n</var> : <var>n </var>≥ 1 : ¬(comp <var>n</var>) ∨ (PF <var>n</var>) ∨ (<u>E</u> <var>i</var> : 1 ≤ <var>i</var> ≤ <var>n</var>: ¬ (PF <var>i</var> )))</td>
<td align="right">(6)</td>
</tr>
</table>
From (5) and (6), relation 4 follows by the standard inference rule. (End of Proof of Theorem 0).
<p class="noindent"><b>Theorem 1.</b> (<b>A</b> <var>p</var> : prime <var>p</var> : (<u>E</u> <var>q</var> : <var>q </var>&gt; <var>p</var> : prime <var>q</var> ))</p>
<p class="noindent">(This is Euclid's famous theorem that no prime is the largest one.)</p>
<p class="noindent"><b>Proof</b>. Consider for arbitrary prime <var>p</var> the value <var>Q</var> defined by</p>
<p class="noindent"><var>Q</var> = 1 + the product of <em>all</em> primes ≤ <var>p</var>.</p>
<p class="noindent">Theorem 0 allows us to conclude that <var>Q</var> is the product of a bag of primes, and, because <var>Q </var>&gt; 1, that bag is not empty. By virtue of <var>Q</var>’s construction, such a bag contains no prime ≤ <var>p</var>. Hence it contains at least one prime &gt;<var> p</var>, hence at least one prime &gt; <var>p</var> exists. (End of proof of Theorem 1.)</p>
<p>With UPF —for Unique Prime Factorization— defined by</p>
<p class="noindent">UPF <var>n</var> = The bag of prime multiples whose product equals <var>n</var> is unique</p>
<p class="noindent">we can formulate</p>
<p class="noindent"><b>Theorem 2.</b> (<b>A</b> <var>p</var>, <var>x</var>, <var>y</var> : <var>p </var>≥ 1, <var>x </var>≥ 1, <var>y</var> ≥ 1 : ¬(prime <var>p</var>) ∨ ¬(<var>p</var>|(<var>x</var>.<var>y</var> ))  ∨  <var>p</var>|<var>x</var>  ∨  <var>p</var>|<var>y</var>  ∨  ¬(UPF(<var>x</var>.<var>y</var> )))</p>
<p class="noindent">(Here “<var>a</var>|<var>b</var> ” should be read as “<var>a</var> divides <var>b</var>”.)</p>
<p class="noindent"><b>Proof.</b> When the first two terms are false, <var>x</var>.<var>y</var> is the product of a bag of primes containing <var>p</var> ; when the next two terms are false, <var>x</var>.<var>y</var> is also the product of a bag of primes <em>not</em> containing <var>p</var>. Those two bags being different, we deduce ¬(UPF(<var>x</var>.<var>y</var> )). (End of proof of Theorem 2.)</p>
<p>We are now ready to state and prove</p>
<p class="noindent"><b>Theorem 3</b>. (<b>A</b> <var>n</var> : <var>n </var>≥ 1 : UPF <var>n</var>)</p>
<p class="noindent"><b>Proof.</b> Theorem 3 is proved by mathematical induction, i.e. by proving</p>
<table width="100%">
<tr>
<td valign="top" width="10%"></td>
<td>(<span class="noindent"><b>A</b> </span><var>n</var> : <var>n </var>≥ 1 : (UPF <var>n</var>) ∨ (<u>E</u> <var>i</var> : 1 ≤ <var>i</var> &lt; <var>n</var> : ¬(UPF <var>i</var> )))</td>
<td align="right">(7)</td>
</tr>
</table>
Inspired by our proof of Theorem 0, we observe that (7) follows from (8) and (9), given by
<table width="100%">
<tr>
<td valign="top" width="10%"></td>
<td>(<span class="noindent"><b>A</b> </span><var>n</var> : <var>n </var>≥ 1 : (comp <var>n</var>) ∨ (UPF <var>n</var>))</td>
<td align="right">(8)</td>
</tr>
<tr>
<td valign="top"></td>
<td>(<span class="noindent"><b>A</b> </span><var>n</var> : <var>n </var>≥ 1 : ¬(comp <var>n</var>) ∨ (UPF <var>n</var>) ∨ (<span class="noindent"><b>E</b> </span><var>i</var> : 1 ≤ <var>i</var> &lt; <var>n</var> : ¬(UPF <var>i</var> )))</td>
<td align="right">(9)</td>
</tr>
</table>
Of these two, (8) follows immediately from (2), (3) and the definition of UPF. Assertion (9) requires, however, a more elaborate argument.
<p>Consider a value of <var>n</var>, <var>m</var> say, such that the first and last terms of (9) are false, i.e. such that</p>
<table width="100%">
<tr>
<td valign="top" width="10%"></td>
<td>(comp <var>m</var>) ∧ (<span class="noindent"><b>A</b> </span><var>i</var> : 1 ≤ <var>i</var> &lt; <var>m </var>: UPF <var>i</var> )</td>
<td align="right">(10)</td>
</tr>
</table>
holds. Because m is composite, it can be written as
<table width="100%">
<tr>
<td valign="top" width="10%"></td>
<td><var>m</var> = <var>p</var>.<var>P</var> = <var>q</var>.<var>Q</var> with</td>
<td align="right">(11)</td>
</tr>
<tr>
<td valign="top">1)</td>
<td>prime <var>p</var></td>
</tr>
<tr>
<td valign="top">2)</td>
<td><var>p</var> ≤ <var>q</var></td>
</tr>
<tr>
<td valign="top">3)</td>
<td><var>P</var> standing for the product of a non empty bag of primes all of which are ≥ <var>p</var></td>
</tr>
<tr>
<td valign="top">4)</td>
<td><var>Q</var> standing for the product of a bag of primes all of which are ≥ <var>q</var>.</td>
</tr>
</table>
<p>We obviously have 2 ≤ <var>P</var> &lt; <var>m</var>, 1 ≤ <var>Q</var> &lt; <var>m</var>, and <var>P</var> ≥ <var>Q</var>.</p>
<p>The conclusion UPF <var>m</var>, required to prove (9), can be drawn from</p>
<table width="100%">
<tr>
<td valign="top" width="10%"></td>
<td><var>p</var> = <var>q</var> ∨ (comp <var>p</var>)</td>
<td align="right">(12)</td>
</tr>
</table>
as follows. When <var>q</var> is the smallest value in a bag of primes, comp <var>q</var> is false and from (12) we deduce <var>p</var> = <var>q</var>. From (11) we deduce <var>P</var> = <var>Q</var>, and from (10) we deduce that <var>P</var> and <var>Q</var> stand for the same bag of primes. Since <var>p</var> = <var>q</var>, <var>p</var>.<var>P</var> and <var>q</var>.<var>Q</var> then also stand for the same bag of primes, and UPF <var>m</var> has been established
<p>Establishing (12) is now our only remaining obligation. It is trivial in the case <var>p</var> = <var>q</var>. In the case <var>p</var> &lt; <var>q</var> we consider value the <var>M</var> defined by</p>
<table width="100%">
<tr>
<td valign="top" width="10%"></td>
<td><var>M</var> = (<var>q</var>−<var>p</var>) . <var>Q</var></td>
</tr>
</table>
Because 1 ≤ <var>M</var> &lt; <var>m</var>, we conclude from (10) UPF <var>m</var>. Because <var>M</var> = <var>q</var>.<var>Q</var> −<var>p</var>.<var>Q</var> = <var>p</var>.<var>P</var>−<var>p</var>.<var>Q</var> = <var>p</var>.(<var>P</var>−<var>q</var>), we conclude <var>p</var>|<var>M</var>. Since prime <var>P</var>, we now conclude from theorem 2
<table width="100%">
<tr>
<td valign="top" width="10%"></td>
<td><var>p</var> | (<var>q</var>−<var>p</var>) ∨ <var>p</var>|<var>Q</var></td>
<td align="right">(13)</td>
</tr>
</table>
<p>Since 1 ≤ <var>Q</var> &lt; <var>m</var>, we conclude from (10) UPF <var>Q</var>, i.e. all the primes in the <em>unique</em> bag of primes whose product equals <var>Q</var> are ≥ <var>q</var>, hence &gt; <var>p</var>. The bag being unique, we conclude ¬(<var>P</var>|<var>Q</var> ). In combination with (13) we conclude <var>p</var>|(<var>q</var>−<var>p</var>); since we were considering the case <var>p</var> &lt; <var>q</var>, we can conclude that <var>q</var> is composite. Having thus established relation (12), we have fulfilled our last proof obligation. (End of Proof of Theorem 3.)</p>
<p class="noindent"><b>Corollary of theorems 2 and 3.</b><br>
(<b>A</b> <var>p</var>, <var>x</var>, <var>y</var> : <var>p </var>≥ 1, <var>x </var>≥ 1, <var>y </var>≥ 1 : ¬(prime <var>p</var>)  ∨  ¬(<var>p</var>|(<var>x</var>.<var>y</var> ))  ∨  <var>p</var>|<var>x</var>  ∨  <var>p</var>|<var>y</var> ) .</p>
<p>The above was written in reaction to the presentation in [1] of essentially the same proof of Theorem 3. I found that presentation contorted and notationally clumsy. They write (for (11))</p>
<table width="100%">
<tr>
<td valign="top" width="10%"></td>
<td><var>m</var> = <var>p</var><sub>1</sub> <var>p</var><sub>2</sub> ... <var>p<sub>r</sub></var> = <var>q</var><sub>1</sub> <var>q</var><sub>2</sub> ... <var>q<sub>s</sub></var></td>
</tr>
</table>
Note the dots and the need to introduce the subscripts <var>r</var> and <var>s</var>. A little later, after having excluded <var>p</var><sub>1</sub> equals <var>q</var><sub>1</sub>: “Suppose <var>p</var><sub>1</sub> &lt; <var>q</var><sub>1</sub>. (If <var>q</var><sub>1</sub> &lt; <var>p</var><sub>1</sub>, we simply interchange the letters <var>p</var> and <var>q</var> in what follows (sic).)”. A third of a page later they conclude that “the prime decomposition of <var>m</var>′ must be unique, aside from the order of the factors”. Theorem 2 isn't mentioned and when needed in the proof of Theorem 3 they borrow the result from a corollary of theorem 3! (Here their argument is almost cyclic.) And it is full of reductiones ad absurdum.
<p class="noindent">[1] Courant, Richard &amp; Robbins, Herbert, <i>What is mathematics?</i> Oxford University Press paperback, 1978.</p>
<p class="noindent"></p>
<table width="100%">
<tr>
<td valign="top" width="50%">Plantaanstraat 5</td>
<td>20 October 1980</td>
</tr>
<tr>
<td valign="top">5671 AL NUENEN</td>
<td>prof. dr. Edsger W. Dijkstra</td>
</tr>
<tr>
<td valign="top">The Netherlands</td>
<td>Burroughs Research Fellow</td>
</tr>
</table>
<hr>
<p class="noindent"><font size="-1">Transcribed by Martin P.M. van der Burgt<br>
Last revision <!-- #BeginDate format:En2 -->10-Nov-2015<!-- #EndDate -->
 .</font></p>
<p>&nbsp;</p>
</div>
  <script>
$('.body').tweetSelection({
  ellipsis: '...',
  quoteLeft: '\'',
  quoteRight: '\'',
  via: 'raboofje'
});
  </script>
  </body>
  </html>
