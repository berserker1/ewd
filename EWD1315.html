  <!DOCTYPE html>
  <html>
  <head>
    <title>Indirect equality enriched (and a proof by Netty)</title>
    <link href="https://fonts.googleapis.com/css?family=Lobster|Raleway" rel="stylesheet">
    <link href="assets/common.css" rel="stylesheet">
    <link href="assets/transcriptions.css" rel="stylesheet">
    <link href="assets/tweet-selection.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-1.12.0.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="assets/tweet-selection.js"></script>
    <meta name="generator" content="convertArticle.pl">
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@raboofje" />
    <meta name="twitter:description" content="From the Edsger Dijkstra EWD archive: Indirect equality enriched (and a proof by Netty)" />
    <meta name="twitter:title" content="Indirect equality enriched (and a proof by Netty)" />
    <meta name="twitter:image" content="http://raboof.github.io/ewd/assets/dijkstra.jpeg" />
  </head>
  <body>
  <div class="metabar">
    <div class="metabar-inner">
      <a href="index.html">HOME</a>
    </div>
  </div>
  <h1>Indirect equality enriched (and a proof by Netty)</h1>
  <div class='body'>
				<P>Proofs known as "proofs by indirect equality" traditionally exploit</P>
				<p class="noindent">(0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <var>x</var> = <var>y&nbsp;&nbsp;&nbsp;&nbsp;</var> &#x2261; &nbsp;&nbsp;&#x3008;&#x2200;<var>u </var>: true : <var>u</var>&#x2291;<var>x&nbsp;</var>&#x2261;&nbsp;<var>u</var>&#x2291;<var>y </var>&#x3009;</p>
				<p class="noindent" >for some reflexive, antisymmetric &#x2291; : they establish equality by establishing the right-hand side of (0). The following lemma shows that we may be able to get away with a proof obligation that is formally weaker.</p>
				<P class="noindent" ><U>Lemma</U> For reflexive, antisymmetric  &#x2291 and predicate <var>P</var> such that <var>P</var>.<var>x</var> &#x2227; <var>P</var>.<var>y</var> , we have</P>
				<p class="noindent">(1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<var>x</var> = <var>y&nbsp;&nbsp;&nbsp;&nbsp;</var> &#x2261; &nbsp;&nbsp;&#x3008;&#x2200;<var>u</var> : <var>P</var>.<var>u </var>: <var>u</var>&#x2291;<var>x&nbsp;</var> &#x2261;&nbsp; <var>u</var>&#x2291;<var>y </var>&#x3009;</p>
				<p class="noindent"><U>Proof</U></p>
				<P class="noindent"><u>LHS &#x21D2; RHS</u>&nbsp;&nbsp;&nbsp;This follows from Leibniz's Principle.</P>
				<P class="noindent"><u>RHS &#x21D0; LHS</u>&nbsp;&nbsp;&nbsp;We observe for any <var>x</var>,<var>y</var>, <var>P</var> such that <var>P</var>.<var>x</var> &#x2227; <var>P</var>.<var>y</var></P>
				<p>&#x3008;&#x2200;<var>u </var>: <var>P</var>.<var>u </var>: <var>u</var>&#x2291;<var>x&nbsp;</var>&#x2261;&nbsp;<var>u</var>&#x2291;<var>y </var>&#x3009;</p>
				<p class="p1">&#x21D2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { instantiate <var>u</var>:= <var>x</var> and <var>u</var>:= <var>y</var> }</p>
				<p class="p0">(<var>P</var>.<var>x</var> &#x21D2; (<var>x</var>&#x2291;<var>x</var> &#x2261; <var>x</var>&#x2291;<var>y </var>)) &#x2227; (<var>P</var>.<var>y</var> &#x21D2; (<var>y</var>&#x2291;<var>x</var> &#x2261; <var>y</var>&#x2291;<var>y </var>))</p>
				<p class="p1">&#x2261;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { <var>P</var>.<var>x</var> &#x2227; <var>P</var>.<var>y</var> }</p>
				<p class="p0">(<var>x</var>&#x2291;<var>x</var> &#x2261; <var>x</var>&#x2291;<var>y </var>) &#x2227; (<var>y</var>&#x2291;<var>x</var> &#x2261; <var>y</var>&#x2291;<var>y </var>)</p>
				<p class="p1">&#x2261;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { &#x2291; is reflexive }</p>
				<p class="p0"><var>x</var>&#x2291;<var>y</var> &#x2227; <var>y</var>&#x2291;<var>x</var></p>
				<p class="p1">&#x21D2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { &#x2291; is antisymmetric }</p>
				<p class="p0">    <var>x</var> = <var>y</var> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(End of Proof)</p>
				<p class="p0"></p>
			</DIV>
			<div id=content align="center">
				<p class="noindent">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
					
							*</p>
			</div>
			<div id=content>
				<U>An application</U>
				<P>Let the above  &#x2291  be the partial order of a lattice for which 
the infimum &#x2193; is defined by the usual</P>
				<p class="noindent">(2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<var>u</var>&nbsp;&#x2291;&nbsp;<var>x</var>&#x2193;<var>y</var> &nbsp;&nbsp;&nbsp;&#x2261;&nbsp;&nbsp;&nbsp; <var>u</var>&#x2291;<var>x</var>&nbsp;&nbsp;&#x2227;&nbsp; <var>u</var>&#x2291;<var>y</var></p>
				<P class="noindent">Fairly directly follow the general lattice properties</P>
				<p class="noindent">(3)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x2193; is idempotent, symmetric, associative</p>
				<p class="noindent">(4)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<var>x</var>&#x2193;<var>y</var> &#x2291; <var>x</var>  and <var>x</var>&#x2193;<var>y</var> &#x2291; <var>y</var></p>
				<p class="noindent">(5)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<var>x</var>&#x2291;<var>y</var> &nbsp; &#x2261; &nbsp; <var>x</var> = <var>x</var>&#x2193;<var>y</var></p>
				<P>We now specialize by making the variables <var>x</var>, <var>y</var>, <var>u</var> etc. of type natural and identifying  &#x2291  with "divides" &#x2014;or "is a divisor of"&#x2014;, which is a partial order on the naturals for which the infimum exists: <var>x</var> &#x2193; <var>y</var> is in fact the Greatest Common Divisor of <var>x</var> and <var>y</var> .</P>
				<P>The formal link between our lattice and arithmetic on the naturals 
&#x2014multiplication in particular&#x2014; is given by providing  &#x3008;&#x2203;<var>q </var>:: <var>q</var>*<var>x</var> = <var>y </var>&#x3009; as a third expression for &quot;<var>x</var> divides <var>y&nbsp;</var>&quot;, i.e. we add to our laws</P>
				<p class="noindent">(6)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x3008;&#x2203;<var>q </var>:: <var>q</var>*<var>x</var> = <var>y </var>&#x3009;&nbsp;&nbsp; &#x2261;&nbsp;&nbsp; <var>x</var>&#x2291;<var>y</var></p>
				<P class="noindent">from which the mutually equivalent</P>
				<p class="noindent">(7)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<var>m</var> &#x2291; <var>m</var>*<var>x</var> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <var>m</var> &nbsp;=&nbsp; <var>m</var>&nbsp;&#x2193; <var>m</var>*<var>x</var></p>
				<P class="noindent">immediately follow.  (Please note that we have given * a stronger binding power than  &#x2193.)</P>
				<P>We are now ready to prove that the GCD of two <var>m</var>-tiples<sup>&#x2021;</sup> is an <var>m</var>-tiple<sup>&#x2021;</sup>, in formula</P>
				<p class="noindent">(8)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<var>m</var> &nbsp;&#x2291; &nbsp;<var>m</var>*<var>x</var> &#x2193; <var>m</var>*<var>y</var></p>
				<p class="noindent"><U>Proof</U> &nbsp;&nbsp;&nbsp;We observe</p>
				<p class="p0"><var>m&nbsp;&nbsp;</var> &#x2291;&nbsp;&nbsp; <var>m</var>*<var>x</var> &#x2193; <var>m</var>*<var>y</var></p>
				<p class="p1">&#x2261;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { (5) and associativity of &#x2193; (3) }</p>
				<p class="p0"><var>m</var> &nbsp;&nbsp;=&nbsp;&nbsp; <var>m&nbsp;</var>&#x2193; <var>m</var>*<var>x</var> &#x2193; <var>m</var>*<var>y</var></p>
				<p class="p1">&#x2261; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ (7) }</p>
				<p class="p0"><var>m</var> &nbsp;=&nbsp; <var>m</var> &#x2193;&nbsp;<var>m</var>*<var>y</var></p>
				<p class="p1">&#x2261; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ (7) with <var>x</var>:= <var>y</var> }</p>
				<p class="p0">true</p>
			</div>
			<div id=frame align="right">
			<div id=content align="right">
				<p class="continue">(End of Proof)</p>
					<p class="continue"></p>
				</div>
		</div>
			<div id=frame>
			<div id=content>
					<hr size="1" width="150em" align="left">
					<sup>					&#x2021;</sup> An &quot;<var>m</var>-tiple&quot; is a multiple of <var>m</var>.
					<hr size="1" width="150em" align="left">
					<p>And now we are ready for an application of the Lemma with which this note started: we shall show that multiplication distributes over the GCD, in formula</p>
					<p class="noindent">(9)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<var>m</var> * (<var>x</var>&#x2193;<var>y </var>) &nbsp;&nbsp;=&nbsp;&nbsp; <var>m</var>*<var>x</var>&nbsp;&#x2193;&nbsp;<var>m</var>*<var>y</var></p>
					<p class="noindent"><u>Proof</u></p>
					<p>On account of (7), the LHS of (9) is an <var>m</var>-tiple, on account of (8), the RHS is an <var>m</var>-tiple. Lemma (1) can thus be applied with <var>m</var> &#x2291; <var>u</var> for <var>P</var>.<var>u</var> . Accordingly we observe for 1 &#x2264; <var>m</var> &#x2014;the case of <var>m</var> = 0 is obvious&#x2014;</p>
					<p>(9)</p>
					<p class="p1">&#x2261; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ (1) }</p>
					<p class="p0">&#x3008;&#x2200;<var>u</var> : <var>m</var>&#x2291;<var>u </var>: &nbsp;<var>u</var> &#x2291; <var>m</var>*(<var>x</var>&#x2193;<var>y </var>) &nbsp;&#x2261;&nbsp; <var>u</var> &#x2291; <var>m</var>*<var>x</var> &#x2193; <var>m</var>*<var>y </var>&#x3009;	</p>
					<p class="p1">&#x2261; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ transforming the dummy: <var>u</var> = <var>m</var>*<var>w </var>}</p>
					<p class="p0">&#x3008;&#x2200;<var>w</var> :: <var>m</var>*<var>w&nbsp;</var> &#x2291;&nbsp; <var>m</var>*(<var>x</var>&#x2193;<var>y </var>) &nbsp;&nbsp;&#x2261; &nbsp;&nbsp;<var>m</var>*<var>w&nbsp;</var> &#x2291; &nbsp;<var>m</var>*<var>x</var> &#x2193; <var>m</var>*<var>y </var>&#x3009;</p>
					<p class="p1">&#x2261; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ (2) }</p>
					<p class="p0">&#x3008;&#x2200;<var>w</var> :: <var>m</var>*<var>w</var> &#x2291; <var>m</var>*(<var>x</var>&#x2193;<var>y </var>)&nbsp;&nbsp; &#x2261;&nbsp;&nbsp; <var>m</var>*<var>w</var> &#x2291; <var>m</var>*<var>x&nbsp;</var> &#x2227;&nbsp; <var>m</var>*<var>w</var> &#x2291; <var>m</var>*<var>y </var>&#x3009;</p>
					<p class="p1">&#x2261; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <var>r </var>&#x2291;<var>s&nbsp;&nbsp;</var> &#x2261;&nbsp;&nbsp; <var>m</var>*<var>r</var> &nbsp;&#x2291; &nbsp;<var>m</var>*<var>s</var> for 1&#x2264;<var>m </var>}</p>
					<p class="p0">&#x3008;&#x2200;<var>w</var> :: <var>w</var> &#x2291; <var>x</var>&#x2193;<var>y&nbsp;&nbsp;</var> &#x2261;&nbsp;&nbsp; <var>w</var>&#x2291;<var>x</var> &#x2227; <var>w</var>&#x2291;<var>y </var>&#x3009;</p>
					<p class="p1">&#x2261; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ (2) }</p>
					<p class="p0"> true</p>
				</div>
				<div id=content align="right">
					<p class="continue">(End of Proof)</p>
				</div>
				<div id=content>
					<p class="noindent"><u>Addendum</u></p>
					<p>For those who are not comfortable with the dummy transformation, here is its pattern in a bit more detail</p>
					<p>&#x3008;&#x2200;<var>u</var> : <var>m</var>&#x2291;<var>u</var> : <var>Q</var>.<var>u</var> &#x3009;</p>
					<p class="p1">&#x2261; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ for non-empty range  &#x3008&#x2200;<var>w </var>:: <var>C </var>&#x3009;&#x2261; <var>C </var>}</p>
					<p class="p0">&#x3008;&#x2200;<var>u</var> : <var>m</var>&#x2291;<var>u</var> : &#x3008;&#x2200;<var>w</var> : <var>u</var> = <var>m</var>*<var>w </var>: <var>Q</var>.<var>u </var>&#x3009;&#x3009;</p>
					<p class="p1">&#x2261; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ interchange of quantifications }</p>
					<p class="p0">&#x3008;&#x2200;<var>w</var> :: &#x3008;&#x2200;<var>u </var>: <var>u</var> = <var>m*</var><var>w</var> &nbsp;&#x2227;&nbsp;&nbsp;<var>m</var>&#x2291;<var>u </var>: <var>Q</var>.<var>u </var>&#x3009;&#x3009;</p>
					<p class="p1">&#x2261; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <var>u</var> = <var>m</var>*<var>w&nbsp;</var> &#x21D2;&nbsp; <var>m</var>&#x2291;<var>u </var>}</p>
					<p class="p0">&#x3008;&#x2200;<var>w </var>:: &#x3008;&#x2200;<var>u </var>: <var>u</var> = <var>m</var>*<var>w </var>: <var>Q</var>.<var>u </var>&#x3009;&#x3009;</p>
					<p class="p1">&#x2261; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ one-point rule }</p>
					<p class="p0">&#x3008;&#x2200;<var>w </var>:: <var>Q</var>.(<var>m</var>*<var>w </var>) &#x3009;</p>
				</div>
				<div id=content align="right">
					<p class="continue">(End of Addendum)&nbsp;&nbsp;&nbsp;</p>
				</div>
			</div>
		</div>
		<div id=frame align="center">
			<div id=frame align="center">
				<div id=content align="center">
					<p class="noindent">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
						*</p>
				</div>
			</div>
		</div>
		<div id=frame>
			<p>All of the above was triggered by Netty van Gasteren's use of (9) in her ingenious proof of</p>
			<p class="noindent">(10)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<var>x</var>&#x2193;<var>y</var> = 1 &nbsp;&#x21D2;&nbsp; <var>x</var> &#x2193; <var>y</var>*<var>z</var> = <var>x</var>&#x2193;<var>z</var> &nbsp;&nbsp;&nbsp;:<br>
			</p>
			<p><var>x</var>&#x2193;<var>z</var></p>
			<p class="p1">= &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ antecedent of (10) }</p>
			<p class="p0"><var>x</var> &#x2193; (<var>x</var>&#x2193;<var>y </var>)*<var>z</var></p>
			<p class="p1">= &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ (9) and associativity of &#x2193; }</p>
			<p class="p0"><var>x</var> &#x2193; <var>x</var>*<var>z</var> &#x2193; <var>y</var>*<var>z</var></p>
			<p class="p1">= &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ (7) with <var>m</var>,<var>x </var>:= <var>x</var>,<var>z</var> }</p>
			<p class="p0"><var>x</var> &#x2193; <var>y</var>*<var>z</var></p>
			<p class="rightalign">Nuenen, 14 December 2001&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
			<p class="noindent">prof. dr Edsger W. Dijkstra<br>
				
						Department of Computer Sciences<br>
				
						The University of Texas at Austin<br>
				
						Austin, TX 78712-1188<br>
				
						USA</p>
			<hr>
			<!-- name and date -->
			<div id=footer>
				<p class="colofon">transcribed by David Naumann and Carl Ludwigson<br>
					
							revised <csobj w="81" t="DateTime" region="15" h="12" format="MedDate">Mon, 3 Dec 2007</csobj></p>
			</div>
		</div>
		</div>
		
			
		
		
			
		
		
		
	</BODY></HTML>

</div>
  <script>
$('body').tweetSelection({
  height: 300,
  width: 600,
  minimumTextSelected: 3,
  shareClass: '.tweet-selection',
  ellipsis: '...',
  quoteLeft: '"',
  quoteRight: '"',
  via: 'raboofje'
});
  </script>
  </body>
  </html>
