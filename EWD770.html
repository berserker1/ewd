  <!DOCTYPE html>
  <html>
  <head>
    <title>D.A. Turner's reply</title>
    <link href="https://fonts.googleapis.com/css?family=Lobster|Raleway" rel="stylesheet">
    <link href="assets/common.css" rel="stylesheet">
    <link href="assets/transcriptions.css" rel="stylesheet">
    <link href="assets/tweet-selection.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-1.12.0.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="assets/tweet-selection.js"></script>
    <meta name="generator" content="convertArticle.pl">
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@raboofje" />
    <meta name="twitter:description" content="From the Edsger Dijkstra EWD archive: D.A. Turner's reply" />
    <meta name="twitter:title" content="D.A. Turner's reply" />
    <meta name="twitter:image" content="http://raboof.github.io/ewd/assets/dijkstra.jpeg" />
  </head>
  <body>
  <div class="metabar">
    <div class="metabar-inner">
      <a href="index.html">HOME</a>
    </div>
  </div>
  <h1>D.A. Turner's reply</h1>
  <a class='original' href='https://www.cs.utexas.edu/~EWD/ewd77xx/EWD770.PDF'><img src='assets/original.png' alt='Show original manuscript'></a>
  <div class='body'>
<p class="noindent"><b>D.A. Turner's reply.</b></p>
<p>In reply to <a href="EWD759.html" title="EWD759.html">EWD759</a>, D.A. Turner sent me the following proof by returning mail.</p>
<p>“Thank you for your “somewhat open letter”, which arrived yesterday. You pose several task —the order in which I have decided to tackle them is to establish first the precise formal relationship between <var>f</var> and <var>g</var>.</p>
<p>First some notation. I shall call the elements of a list <var>f</var>&nbsp;, &nbsp;&nbsp;<var>f</var><sub>0</sub> <var>f</var><sub>1</sub> <var>f</var><sub>2</sub> etc. and I shall use the notation</p>
<table width="100%" cellpadding="9" cellspacing="9">
<tr>
<td width="10%" valign="top"></td>
<td>[<var>h</var>(<var>i</var>)]<span class="supsub"><sup class="superscript"><var>B</var></sup><sub class="subscript"><var>i</var>=<var>A</var></sub></span></td>
</tr>
</table>
for the list [<var>h</var>(<var>A</var>), <var>h</var>(<var>A</var>+1), ..., <var>h</var>(<var>B</var>)].
<p>Now I define a function “upto”</p>
<table width="100%">
<tr>
<td valign="top" width="10%"></td>
<td>upto <var>i</var> <var>f</var> = least <var>j</var> ≥ 0 such that <var>f</var><sub><var>j</var></sub> &gt; <var>i</var></td>
<td align="right">(upto.0)</td>
</tr>
</table>
The claim to be established is that
<table width="100%">
<tr>
<td width="10%" height="24" valign="top"></td>
<td><var>g</var> = [upto <var>i</var> <var>f</var> ] <span class="supsub"><sup class='superscript'>∞</sup> <sub class='subscript'><var>i</var>=0</sub></span></td>
<td align="right">(Theorem 1)</td>
</tr>
</table>
From upto.0 we deduce the following two propositions, which could be considered a SASL definition of upto
<table width="100%">
<tr>
<td valign="top" width="10%"></td>
<td><var>a</var> &gt; <var>i</var> ⊢ upto <var>i</var> (<var>a</var>:<var>f</var> ) = 0</td>
<td align="right">(upto.1)</td>
</tr>
<tr>
<td valign="top"></td>
<td><var>a</var> ≤ <var>i</var> ⊢ upto <var>i</var> (<var>a</var>:<var>f</var> ) = 1 + upto <var>i</var> <var>f</var></td>
<td align="right">(upto.2)</td>
</tr>
</table>
<p class="noindent">We have also your definition of the function “k”</p>
<table width="100%">
<tr>
<td valign="top" width="10%"></td>
<td><var>p</var> ≤ <var>y</var> ⊢ k <var>x</var> <var>y</var> (<var>p</var>:<var>q</var>) = k (<var>x</var>+1) <var>y</var> <var>q</var></td>
<td align="right">(k.1)</td>
</tr>
<tr>
<td valign="top"></td>
<td><var>p</var> &gt; <var>y</var> ⊢ k <var>x</var> <var>y</var> (<var>p</var>:<var>q</var>) = <var>x</var> : k <var>x</var> (<var>y</var>+1)(<var>p</var>:<var>q</var>)</td>
<td align="right">(k.2)</td>
</tr>
</table>
<p>From these four propositions we shall deduce the following generalization of Theorem 1.</p>
<p class="noindent"><b>Theorem 0</b>. k <var>x</var> <var>y f</var> = [<var>x</var> + upto <var>i</var> <var>f</var> ] <span class="supsub"><sup class='superscript'>∞</sup> <sub class='subscript'><var>i</var>=<var>y</var></sub></span></p>
<p class="noindent"><b>Proof</b> by structural induction on <var>f</var>, which is an infinite list of integers.</p>
<p class="noindent"><b>case</b> Ω<sub>L</sub> (Note — we need to distinguish between Ω<sub>L</sub>, the undefined element in the space to which <var>f</var> belongs, and Ω<sub>I</sub>, the undefined integer. The relationship between them is Ω<sub>L</sub> = [Ω<sub>I</sub>] <span class='supsub'><sup class='superscript'>∞</sup> <sub class='subscript'><var>i</var>=0</sub></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</p>
<table width="100%">
<tr>
<td valign="top" width="10%"></td>
<td>k <var>x</var> <var>y</var> Ω<sub>L</sub> = Ω<sub>L</sub> from k.1, k.2 by case exhaustion</td>
</tr>
</table>
whereas
<table>
<tr>
<td width="15">&nbsp;&nbsp;&nbsp;</td>
<td width="128" colspan="1">[<var>x</var> + upto <var>i</var> Ω<sub>L</sub>] <span class='supsub'><sup class='superscript'>∞</sup> <sub class='subscript'><var>i</var>=<var>y</var></sub></span></td>
</tr>
<tr>
<td></td>
<td colspan="4">= [<var>x</var> + Ω<sub>I</sub>] <span class='supsub'><sup class='superscript'>∞</sup> <sub class='subscript'><var>i</var>=<var>y</var></sub></span>&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td width="163">from upto.1, upto.2</td>
</tr>
<tr>
<td></td>
<td colspan="4">= [Ω<sub>I</sub>] <span class='supsub'><sup class='superscript'>∞</sup> <sub class='subscript'><var>i</var>=<var>y</var></sub></span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>properties of Ω</td>
</tr>
<tr>
<td></td>
<td colspan="4">= Ω<sub>L</sub></td>
<td>as required</td>
</tr>
</table>
<p class="noindent"><b>case</b> <var>p</var>:<var>f</var></p>
<table>
<tr>
<td width="10">&nbsp;&nbsp;</td>
<td colspan="2">k <var>x</var> <var>y</var> ( <var>p</var>:<var>f</var> )</td>
</tr>
<tr>
<td></td>
<td width="10">&nbsp;&nbsp;</td>
<td width="267" colspan="1">= [<var>x</var>]<sup><var>p</var>−<var>y</var></sup> ++ k <var>x</var> <var>p</var> ( <var>p</var>:<var>f</var> )</td>
<td width="231">by repeated appl. of k.2</td>
</tr>
<tr>
<td></td>
<td></td>
<td colspan="1">= [<var>x</var>]<sup><var>p</var>−<var>y</var></sup> ++ k (<var>x</var>+1) <var>p</var> <var>f</var> )</td>
<td>by k.1</td>
</tr>
<tr>
<td></td>
<td></td>
<td colspan="1">= [<var>x</var>]<sup><var>p</var>−<var>y</var></sup> ++ [(<var>x</var>+1) + upto <var>i</var> <var>f</var> ] <span class='supsub'><sup class='superscript'>∞</sup> <sub class='subscript'><var>i</var>=<var>p</var></sub></span></td>
<td><b>ex hyp.</b></td>
</tr>
<tr>
<td></td>
<td></td>
<td colspan="1">= [<var>x</var>]<sup><var>p</var>−<var>y</var></sup> ++ [<var>x</var> + (1 + upto <var>i</var> <var>f</var> )] <span class='supsub'><sup class='superscript'>∞</sup> <sub class='subscript'><var>i</var>=<var>p</var></sub></span></td>
<td>properties of +</td>
</tr>
<tr>
<td></td>
<td></td>
<td colspan="1">= [<var>x</var>]<sup><var>p</var>−<var>y</var></sup> ++ [<var>x</var> + upto <var>i</var> (<var>p</var>:<var>f</var> ))] <span class='supsub'><sup class='superscript'>∞</sup> <sub class='subscript'><var>i</var>=<var>p</var></sub></span></td>
<td>by upto.2</td>
</tr>
<tr>
<td></td>
<td></td>
<td colspan="1">= [<var>x</var> + upto <var>i</var> (<var>p</var>:<var>f</var> ))] <span class='supsub'><sup class='superscript'>∞</sup> <sub class='subscript'><var>i</var>=<var>y</var></sub></span></td>
<td>by upto.1 and rearranging</td>
</tr>
</table>
<p class="noindent"><b>QED Theorem 0.</b></p>
<p class="noindent">Whence, since <var>g</var> = k 0 0 <var>f</var>, we have immediatly</p>
<p class="noindent"><b>Theorem 1</b> <var>g</var> = [upto <var>i</var> <var>f</var> ] <span class='supsub'><sup class='superscript'>∞</sup> <sub class='subscript'><var>i</var>=0</sub></span></p>
<p>Also you asked me to establish that <var>g</var> is A) ascending and B) unbounded, given appropriate assumptions about <var>f</var>. This now follows easily from the above. (Relaxing the level of formality somewhat) we have:</p>
<p class="noindent">A) from upto.0 it follows (by transitivity of “&gt;” that “upto <var>i</var> <var>f</var> " is an ascending function of <var>i</var>. Therefore, whatever the nature of <var>f</var>, <var>g</var> is ascending.</p>
<p class="noindent">B) Let us define “<var>f</var> is unbounded” to mean, “for any <var>N</var>≥0, there is a <var>j</var> ≥0 such that <var>f<sub>j</sub></var> &gt; <var>N</var>. Assume <var>f</var> is unbounded (<var>f</var> ascending <em>not relevant</em>. Then, from upto.0,</p>
<table>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td colspan="1">upto <var>i</var> <var>f</var> is defined for all <var>i</var> ≥0</td>
</tr>
</table>
Given any <var>N</var>≥0, define <var>j</var> = max{<var>f</var><sub>0</sub>, ..., <var>f<sub>N</sub></var>} then upto <var>j</var> <var>f</var> = <var>g<sub>j</sub></var> exists, and by construction &gt; <var>N</var>. So <var>g</var> too is unbounded.
<p align="center" class="noindent">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
*</p>
So far Turner's reply. I like Turner’s proof, and in view of the fact that Turner answered me by returning mail it would be misplaced to complain too much about the fact that, in “case <var>p</var>:<var>f </var>” the definitely less interesting case <var>p</var>&lt;<var>y</var> hasn’t been dealt with explicitly.
<p>I am slightly uneasy in “<b>case</b> Ω<sub>L</sub>” —particularly after the parenthetical remark explaining the difference between Ω<sub>L</sub> and Ω<sub>I</sub>— about the justification “from k.1, k.2 by case exhaustion”. My uneasyness is certainly caused by lack of familiarity how to deal with Ω. Take</p>
<table cellpadding="0" cellspacing="0">
<tr>
<td width="15"></td>
<td width="96" valign="top">funny (<var>p</var>:<var>q</var>) =</td>
<td width="197" colspan="1"><b>if</b> <var>p</var>≥10 → 1: funny <var>q</var></td>
</tr>
<tr>
<td></td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td colspan="1">&nbsp;⫿&nbsp;<var>p</var>&lt;10 → 1: funny <var>q</var></td>
</tr>
<tr>
<td></td>
<td></td>
<td colspan="2"><b>fi</b></td>
</tr>
</table>
<p>Is funny Ω<sub>L</sub> = Ω<sub>L</sub>? Or is funny Ω<sub>L</sub> = ones (with ones = 1: ones)? I expect the first answer though I would prefer the second one, if I am giving full weight to the remark in [1], page 37).</p>
<blockquote>The first point to be made is that in reasoning about SASL programs, Ω can be treated just like any other value as regards being substitutable in equations</blockquote>
Perhaps I have failed to fathom the complete depth of the constrained “as regards being substitutable in equations”.
<p>The correspondence was triggered by remarks in [1] such as the recommendation of applicative programming (pg 14):</p>
<blockquote>The proofs (like the programs themselves) are very much shorter than the proofs of the corresponding imperative programs.</blockquote>
I had my doubts, which have not been dispelled by the comparison of Turner’s proof with the one given in <a href="ewd758.html" title="EWD758.html">EWD758</a>.
<p class="noindent">[1] Turner, D.A. “Program Proving and Applicative Languages”, August 1980</p>
<p class="noindent"></p>
<table width="100%" cellpadding="0" cellspacing="0">
<tr>
<td valign="top" width="50%">Plantaanstraat 5</td>
<td>27 December 1980</td>
</tr>
<tr>
<td valign="top">5671 AL NUENEN</td>
<td>prof. dr. Edsger W. Dijkstra</td>
</tr>
<tr>
<td valign="top">The Netherlands</td>
<td>Burroughs Research Fellow</td>
</tr>
</table>
<hr>
<p class="noindent"><font size="-1">Transcribed by Martin P.M. van der Burgt<br>
Last revision <!-- #BeginDate format:En2 -->10-Nov-2015<!-- #EndDate -->
 .</font></p>
<p>&nbsp;</p>
</div>
  <script>
$('.body').tweetSelection({
  ellipsis: '...',
  quoteLeft: '\'',
  quoteRight: '\'',
  via: 'raboofje'
});
  </script>
  </body>
  </html>
